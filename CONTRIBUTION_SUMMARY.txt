
FAQ Page
--------
A new FAQ (Frequently Asked Questions) page was added. It is available from the main navigation and the footer. The page is public (no login required) . It is split into sections: Orders & Account, Shipping & Delivery, Products & Supplements, Returns & Refunds, Account & Data, and General. Each section contains common questions with expandable answers (using Alpine.js). The content covers things like how to track an order, delivery times, returns policy, and how to contact support. There is a link at the bottom to the Contact page.


Track Order (Public)
-------------------
A public "Track your order" feature was added so that anyone can check an order's status without logging in. From the footer (or the direct URL), the user opens a page where they enter their Order ID and the email address they used when placing the order. When they submit, the system checks that the order exists and that it belongs to that email. If it finds the order, it shows the order status (e.g. Pending, Shipped, Delivered), the date, and the total. If it does not find a match, it shows a single generic message ("We couldn't find an order…") so that we do not reveal whether the order ID or the email was wrong. This keeps things private and secure.


Track Order (Dashboard)
-----------------------
For logged-in users, a "Track Order" tab was added in the dashboard (next to Active Orders, Order History, and Personal Trainer). On that page, the user only has to enter their Order ID (no email, because they are already logged in). When they submit, the system checks whether that order belongs to them. If it does, they are redirected to the usual order details page for that order. If not, they see a short error message and can try another ID. This is a quick way to jump to a specific order from the dashboard.


Discount Codes
--------------
Discount codes were added so that customers can use a code at checkout to get a reduction (percent or fixed amount). Admins can create and manage these codes from the admin area.

On the admin side, a new "Manage discount codes" link was added on the admin dashboard. It leads to a page that lists all discount codes and has a form to create new ones. For each code you can set: the code string (e.g. SAVE10), the type (percent or fixed amount), the value, an optional minimum order amount, optional start and end dates, an optional usage limit (how many times the code can be used in total), and whether the code is active. Admins can also delete a code from the list.

On the checkout side, the order summary now has a discount code field. The customer types the code and clicks "Apply". The system checks that the code exists, is active, is within its date range, has not reached its usage limit, and that the basket total meets the minimum order if one is set. If everything is valid, the discount is applied and the page shows the reduced total and a "Remove" option to clear the code. When the customer places the order, the discount is applied again on the server, the order total and the discount amount are saved, and the code's usage count is increased. The order confirmation (and order details) can show the discount line when a discount was used.

So in short: admins manage codes in the admin panel; customers enter a code at checkout, see the discount on the same page, and the final order stores both the total and the discount amount.


Enhanced Admin Dashboard
------------------------
The admin dashboard was expanded with features and KPIs (Key Performance Indicators).

The dashboard now displays eight KPIs: Average Order Value, Orders This Month, Revenue This Month, Low Stock Products (products with stock < 10), Shipped Orders, Delivered Orders, New Users This Month, and Completion Rate (percentage of orders that reached Delivered status). These metrics give admins a quick overview of the store's performance.

The dashboard also shows a "Recent Orders" table displaying the last 5 orders with customer names, dates, totals, and statuses. There are quick action links to manage products, orders, users, discount codes, and view the shop.


Product Management (CRUD)
-------------------------
Full Create, Read, Update, Delete (CRUD) functionality was added for products in the admin area.

Admins can now create new products through a form that includes: product name, description, price, stock level, category selection, and image URL. The form validates all required fields and ensures data integrity.

The products list page shows all products in a table format with columns for product name, category, price, stock level, and actions. Each product row has "View", "Edit", and "Delete" buttons.

The edit form allows admins to update any product field. All changes are validated before saving. Products can be deleted with a confirmation prompt to prevent accidental deletions.


Order Management
----------------

The orders list page displays all orders with filtering options by status (All, Pending, Shipped, Delivered). Each order shows the order ID, customer name, date, total, current status, and a link to view full details.

The order details page shows complete order information including all items, customer details, shipping address, subtotal, discount (if applied), and final total. Most importantly, admins can update the order status directly from this page using a dropdown form. Statuses can be changed between Pending, Shipped, and Delivered.


User Management (CRUD)
----------------------
Full Create, Read, Update, Delete (CRUD) functionality was added for user management in the admin area.

Admins can create new users through a form that includes: name, email, password (with confirmation), role (admin or customer), date of birth, gender, and phone number.

The users list page displays all registered users with their name, email, role badge (Admin or Customer), registration date, and total number of orders. Each user row has "Edit" and "Delete" buttons. Admins cannot delete their own account (a safety feature).

The edit form allows updating user information. Password can be changed optionally (if left blank, the current password remains). All other fields can be updated. Role changes allow promoting customers to admins or demoting admins to customers.


Database Changes
----------------
Two database changes were made to support the new features.

First, a new table called "discount_codes" was created. It stores each discount code with: code (unique), type (percent or fixed), value, optional minimum order, optional valid-from and valid-until dates, optional usage limit, a "times_used" counter, an "active" flag, and the usual timestamps. This table is used when creating codes in the admin panel and when validating and applying a code at checkout.

Second, the existing "Orders" table was extended with a new column "order_discount". It is a decimal column (default 0) that stores how much was discounted on that order when a discount code was used. The "order_total" column already holds the final amount the customer pays (after discount), so "order_discount" is there to record how much was taken off. This allows the site to show "You saved £X" and keeps a clear record of discounts per order.

Additionally, the Orders model was updated to include a relationship to the User model, allowing easy access to customer information when displaying orders in the admin area.


Where to Find Things
--------------------
- FAQ: main nav and footer ("FAQ"), or URL /faq.
- Public track order: footer ("Track Order"), or URL /track-order.
- Dashboard track order: after login, Dashboard → "Track Order" tab.
- Discount codes (admin): Admin dashboard → "Manage discount codes", or URL /admin/discount-codes.
- Discount at checkout: add items to basket, go to Checkout; the discount code field is in the order summary on the right.
- Admin dashboard: after login as admin, URL /admin/dashboard.
- Product management (admin): Admin dashboard → "Manage Products" or "Quick Actions" → "Manage Products", or URL /admin/products.
- Order management (admin): Admin dashboard → "Manage Orders" or "Quick Actions" → "Manage Orders", or URL /admin/orders.
- User management (admin): Admin dashboard → "Manage Users" or "Quick Actions" → "Manage Users", or URL /admin/users.
- Create product: Admin products page → "Add New Product" button, or URL /admin/products/create.
- Create user: Admin users page → "Add New User" button, or URL /admin/users/create.
- Edit product: Admin products page → click "Edit" next to any product, or URL /admin/products/{id}/edit.
- Edit user: Admin users page → click "Edit" next to any user, or URL /admin/users/{id}/edit.
- Update order status: Admin order details page → "Update Order Status" form at the bottom.
